<div id="dashboard-analytics" class="page-layout blank">
    <div class="content">
        <div class="left mr-lg-32">
            <div class="pb-24 font-size-18 font-weight-300">
                How are your active users trending over time?
            </div>

            <div
                fxLayout="column"
                fxLayoutAlign="start"
                fxLayout.gt-sm="row"
                fxLayoutAlign.gt-sm="start start"
            >
                <!-- Widget 2 -->
                <div class="widget" fxFlex="100" fxFlex.gt-sm="33">
                    <div
                        class="fuse-card auto-width mb-32"
                        [ngClass.gt-sm]="'mb-0 mr-32'"
                    >
                        <div
                            class="p-16 pb-0"
                            fxLayout="row wrap"
                            fxLayoutAlign="start end"
                        >
                            <div class="pr-16">
                                <div class="h3 secondary-text">Conversion</div>
                                <div
                                    class="font-size-54 font-weight-300 line-height-1 mt-8"
                                >
                                    {{ widgets.widget2.conversion.value }}
                                </div>
                            </div>

                            <div
                                class="py-4 font-size-16"
                                fxLayout="row"
                                fxLayoutAlign="start center"
                            >
                                <div
                                    fxFlex="row"
                                    fxLayoutAlign="start center"
                                    class="green-fg"
                                    *ngIf="
                                        widgets.widget2.conversion.ofTarget > 0
                                    "
                                >
                                    <mat-icon class="green-fg mr-4"
                                        >trending_up</mat-icon
                                    >
                                    <span
                                        >{{
                                            widgets.widget2.conversion.ofTarget
                                        }}%</span
                                    >
                                </div>
                                <div
                                    fxFlex="row"
                                    fxLayoutAlign="start center"
                                    class="red-fg"
                                    *ngIf="
                                        widgets.widget2.conversion.ofTarget < 0
                                    "
                                >
                                    <mat-icon class="red-fg mr-4"
                                        >trending_down</mat-icon
                                    >
                                    <span
                                        >{{
                                            widgets.widget2.conversion.ofTarget
                                        }}%</span
                                    >
                                </div>
                                <div class="ml-4 text-nowrap">of target</div>
                            </div>
                        </div>

                        <div class="h-96 w-100-p">
                            <canvas
                                baseChart
                                [datasets]="widgets.widget2.datasets"
                                [labels]="widgets.widget2.labels"
                                [colors]="widgets.widget2.colors"
                                [options]="widgets.widget2.options"
                                [chartType]="widgets.widget2.chartType"
                            >
                            </canvas>
                        </div>
                    </div>
                </div>
                <!-- / Widget 2 -->

                <!-- Widget 3 -->
                <div class="widget" fxFlex="100" fxFlex.gt-sm="34">
                    <div
                        class="fuse-card auto-width mb-32"
                        [ngClass.gt-sm]="'mb-0 mr-32'"
                    >
                        <div
                            class="p-16 pb-0"
                            fxLayout="row wrap"
                            fxLayoutAlign="start end"
                        >
                            <div class="pr-16">
                                <div class="h3 secondary-text">Impressions</div>
                                <div
                                    class="font-size-54 font-weight-300 line-height-1 mt-8"
                                >
                                    {{ widgets.widget3.impressions.value }}
                                </div>
                            </div>

                            <div
                                class="py-4 font-size-16"
                                fxLayout="row"
                                fxLayoutAlign="start center"
                            >
                                <div
                                    fxFlex="row"
                                    fxLayoutAlign="start center"
                                    class="green-fg"
                                    *ngIf="
                                        widgets.widget3.impressions.ofTarget > 0
                                    "
                                >
                                    <mat-icon class="green-fg mr-4"
                                        >trending_up</mat-icon
                                    >
                                    <span
                                        >{{
                                            widgets.widget3.impressions
                                                .ofTarget
                                        }}%</span
                                    >
                                </div>
                                <div
                                    fxFlex="row"
                                    fxLayoutAlign="start center"
                                    class="red-fg"
                                    *ngIf="
                                        widgets.widget3.impressions.ofTarget < 0
                                    "
                                >
                                    <mat-icon class="red-fg mr-4"
                                        >trending_down</mat-icon
                                    >
                                    <span
                                        >{{
                                            widgets.widget3.impressions
                                                .ofTarget
                                        }}%</span
                                    >
                                </div>
                                <div class="ml-4 text-nowrap">of target</div>
                            </div>
                        </div>

                        <div class="h-96 w-100-p">
                            <canvas
                                baseChart
                                [datasets]="widgets.widget3.datasets"
                                [labels]="widgets.widget3.labels"
                                [colors]="widgets.widget3.colors"
                                [options]="widgets.widget3.options"
                                [chartType]="widgets.widget3.chartType"
                            >
                            </canvas>
                        </div>
                    </div>
                </div>
                <!-- / Widget 3 -->

                <!-- Widget 4 -->
                <div class="widget" fxFlex="100" fxFlex.gt-sm="33">
                    <div class="fuse-card auto-width">
                        <div
                            class="p-16 pb-0"
                            fxLayout="row wrap"
                            fxLayoutAlign="start end"
                        >
                            <div class="pr-16">
                                <div class="h3 secondary-text">Visits</div>
                                <div
                                    class="font-size-54 font-weight-300 line-height-1 mt-8"
                                >
                                    {{ widgets.widget4.visits.value }}
                                </div>
                            </div>

                            <div
                                class="py-4 font-size-16"
                                fxLayout="row"
                                fxLayoutAlign="start center"
                            >
                                <div
                                    fxFlex="row"
                                    fxLayoutAlign="start center"
                                    class="green-fg"
                                    *ngIf="widgets.widget4.visits.ofTarget > 0"
                                >
                                    <mat-icon class="green-fg mr-4"
                                        >trending_up</mat-icon
                                    >
                                    <span
                                        >{{
                                            widgets.widget4.visits.ofTarget
                                        }}%</span
                                    >
                                </div>
                                <div
                                    fxFlex="row"
                                    fxLayoutAlign="start center"
                                    class="red-fg"
                                    *ngIf="widgets.widget4.visits.ofTarget < 0"
                                >
                                    <mat-icon class="red-fg mr-4"
                                        >trending_down</mat-icon
                                    >
                                    <span
                                        >{{
                                            widgets.widget4.visits.ofTarget
                                        }}%</span
                                    >
                                </div>
                                <div class="ml-4 text-nowrap">of target</div>
                            </div>
                        </div>

                        <div class="h-96 w-100-p">
                            <canvas
                                baseChart
                                [datasets]="widgets.widget4.datasets"
                                [labels]="widgets.widget4.labels"
                                [colors]="widgets.widget4.colors"
                                [options]="widgets.widget4.options"
                                [chartType]="widgets.widget4.chartType"
                            >
                            </canvas>
                        </div>
                    </div>
                </div>
                <!-- / Widget 4 -->
            </div>

            <!-- Widget 5 -->
            <div class="pt-48 pb-24 font-size-18 font-weight-300">
                How many pages your users visit?
            </div>

            <div class="fuse-card auto-width">
                <div
                    class="position-relative p-24"
                    fxLayout="row"
                    fxLayoutAlign="space-between center"
                >
                    <div fxLayout="column" fxLayoutAlign="start start">
                        <span class="h2">Visitors & Page views</span>
                    </div>
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <div
                            class="py-8 px-12 border-radius-2 line-height-1 mr-8 cursor-pointer"
                            (click)="widget5SelectedDay = 'yesterday'"
                            [ngClass]="{
                                accent: widget5SelectedDay === 'yesterday'
                            }"
                        >
                            Yesterday
                        </div>
                        <div
                            class="py-8 px-12 border-radius-2 line-height-1 mr-8 cursor-pointer"
                            (click)="widget5SelectedDay = 'today'"
                            [ngClass]="{
                                accent: widget5SelectedDay === 'today'
                            }"
                        >
                            Today
                        </div>
                    </div>
                </div>

                <div class="position-relative h-368 pb-16">
                    <canvas
                        baseChart
                        [datasets]="
                            widgets.widget5.datasets[widget5SelectedDay]
                        "
                        [labels]="widgets.widget5.labels"
                        [colors]="widgets.widget5.colors"
                        [options]="widgets.widget5.options"
                        [chartType]="widgets.widget5.chartType"
                    >
                    </canvas>
                </div>
            </div>
            <!-- / Widget 5 -->

            <!-- Widget 6 -->
            <div class="pt-48 pb-24 font-size-18 font-weight-300">
                Where are your users?
            </div>

            <div class="fuse-card auto-width p-16">
                <agm-map
                    class="h-640 w-100-p"
                    [minZoom]="2"
                    [maxZoom]="2"
                    [fullscreenControl]="false"
                    [rotateControl]="false"
                    [zoomControl]="false"
                    [scaleControl]="false"
                    [streetViewControl]="false"
                    [scrollwheel]="false"
                    [styles]="widgets.widget6.styles"
                >
                    <agm-marker
                        *ngFor="let marker of widgets.widget6.markers"
                        [latitude]="marker.lat"
                        [longitude]="marker.lng"
                    >
                        <agm-info-window>
                            <strong>{{ marker.label }}</strong>
                        </agm-info-window>
                    </agm-marker>
                </agm-map>
            </div>
            <!-- / Widget 6 -->
        </div>
    </div>
</div>
